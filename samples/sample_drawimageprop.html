<!DOCTYPE HTML>
<html><!-- InstanceBegin template="/Templates/template_demo.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<!-- InstanceBeginEditable name="doctitle" -->
	<title>easyCanvas for Javascript - demo and sample code</title>
	<script src="../js/range.min.js"></script>
	<!-- InstanceEndEditable -->
	<link rel="stylesheet" type="text/css" href="../css/demos.css">
	<script type="text/javascript" src="../easyCanvas.1.3.js"></script>
	<script type="text/javascript" src="../js/code.js"></script>
	<!-- InstanceBeginEditable name="head" -->
	<!-- InstanceEndEditable -->
</head>

<body>

	<header>
		<a href="http://easycanvasjs.com/"><img src="../gfx/logo1.png" width="100" height="45" alt="easyCanvasJS"></a>
	</header>

	<div id="content">
		<section id="main"><!-- InstanceBeginEditable name="Main" -->
		<h1>Draw and fill image proportional to any region and size</h1>

		<div class="instr">drawImageProp() will allow you to draw the image into a container of a different size
		but keep proportions and fill the region as well as clip image so the image fits inside the region. The function also
		takes offsets to move image out of center (default).</div>

		<canvas id="demo" class="canvasFull" width="800" height="400">Sorry, your browser does not support the canvas element.
			Please consider upgrading to a modern HTML5 compliant browser such as Chrome or Firefox.</canvas>
		<!-- InstanceEndEditable -->
			<div id="info">-</div>

			<h2>The code in essence:</h2>

<!-- InstanceBeginEditable name="CodeEssence" --><pre data-code="js">
ez.drawImageProp(image, x, y, width, height [, offsetX, offsetY]);
</pre><!-- InstanceEndEditable -->

			<h2>Full code:</h2>

			<pre data-code="js" id="codePre">Automatically inserted</pre>

		</section>

		<section id="rightside">

			<h2>Parameters</h2>
			<!-- InstanceBeginEditable name="Parameters" -->
			<div class="para">
				<div>Offset X:</div>
				<input type="range" min="0" max="1" value="0.5" step="0.01" id="domOffsetX" onchange="slider1val.innerHTML = this.value;drawImages();">
				<span id="slider1val">0.50</span>
			</div>
			<div class="para">
				<div>Offset Y:</div>
				<input type="range" min="0" max="1" value="0.5" step="0.01" id="domOffsetY" onchange="slider2val.innerHTML = this.value;drawImages();">
				<span id="slider2val">0.50</span>
			</div>
			<!-- InstanceEndEditable --></section>
	</div>
	<footer>
		All examples are provided under the same license as easyCanvas, GPL-3.0.
		<div id="abdias"></div>
	</footer>
<!-- InstanceBeginEditable name="Code" --><script id="codeJS" type="text/javascript">
var ez = new easyCanvas('demo'),

    /// offsets for image
	offsetX = 0.5, offsetY = 0.5,

    /// our image, counter and a single region
	img = null, i = 0, r,

    /// some regions to fill image into
	rects = [[30, 30, 70, 200],
			 [70, 300, 300, 90],
			 [720, 20, 60, 120],
			 [690, 150, 90, 120],
			 [686, 280, 154, 100],
			 [400, 70, 200, 200]];

/// load an image asynchronous
ez.loadImage('http://i.imgur.com/Q2WFnC4.jpg', function(e) {
	img = e.image;

    /// draw the images when image is loaded
	drawImages();
})

function drawImages() {

	if (img === null) return;

    /// get offsets from sliders
	offsetX = parseFloat(document.getElementById("domOffsetX").value);
	offsetY = parseFloat(document.getElementById("domOffsetY").value);

	/// first draw image as background
	ez.drawImageProp(img, 0, 0, ez.width, ez.height, offsetX, offsetY);

	/// color for border for each sub-sequent image
	ez.ctx.strokeStyle = '#fff';

    /// loop through the array of regions and draw the images
	for(i = 0; r = rects[i]; i++) {
		ez.drawImageProp(img, r[0], r[1], r[2], r[3], offsetX, offsetY);
		ez.ctx.strokeRect(r[0] + 0.5, r[1] + 0.5, r[2], r[3]);
	}
}
</script>
<script type="application/javascript">info.style.opacity=0</script>
<!-- InstanceEndEditable -->
<script type="text/javascript">codeFormatter()</script>
</body>
<!-- InstanceEnd --></html>
